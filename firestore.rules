rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Products - 모든 사용자가 읽기 가능, 쓰기는 허용 (테스트용)
    match /products/{productId} {
      allow read: if true;
      allow write: if true; // 테스트용 - 나중에 관리자만 쓰기로 변경
    }
    
    // Users - 모든 사용자가 읽기/쓰기 가능 (테스트 모드)
    // TODO: 프로덕션에서는 인증된 사용자만 본인 데이터 접근 가능하도록 변경
    match /users/{userId} {
      allow read, write: if true; // 테스트 모드 - 모든 접근 허용
      
      // 장바구니
      match /cart/{cartItemId} {
        allow read, write: if true; // 테스트 모드
      }
    }
    
    // 기본적으로 모든 접근 허용 (테스트 모드)
    match /{document=**} {
      allow read, write: if true;
    }
  }
}

